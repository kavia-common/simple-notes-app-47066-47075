{"is_source_file": true, "format": "Kotlin", "description": "This file defines a ViewModel class 'NotesViewModel' in an Android Kotlin app, managing notes data and UI state using Kotlin coroutines and StateFlow. It handles operations like creating, loading, updating, saving, and deleting notes, and maintains the current editing note state.", "external_files": ["org/example/app/data/NotesRepository.kt", "org/example/app/model/Note.kt"], "external_methods": ["NotesRepository.getNotes()", "NotesRepository.findById()", "NotesRepository.upsert()", "NotesRepository.delete()"], "published": ["NotesUiState", "NotesViewModel"], "classes": [{"name": "NotesUiState", "description": "Data class representing the UI state for notes list and currently editing note."}, {"name": "NotesViewModel", "description": "ViewModel managing the notes list, current editing note, and providing functions to modify notes."}], "methods": [{"name": "prepareNewNote", "description": "Prepares a new empty note for editing."}, {"name": "loadNote", "description": "Loads a note by its ID into the current editing state."}, {"name": "updateTitle", "description": "Updates the title of the current note."}, {"name": "updateContent", "description": "Updates the content of the current note."}, {"name": "saveCurrent", "description": "Saves the current note to the repository."}, {"name": "deleteCurrent", "description": "Deletes the current note from the repository."}, {"name": "deleteNote", "description": "Deletes a note by its ID."}, {"name": "setCurrent", "description": "Sets the current note being edited."}], "calls": ["repository.getNotes()", "repository.findById()", "repository.upsert()", "repository.delete()", "System.currentTimeMillis()"], "search-terms": ["NotesViewModel", "NotesRepository", "combine", "StateFlow", "MutableStateFlow", "NotesUiState", "viewModelScope", "manage notes"], "state": 2, "file_id": 13, "knowledge_revision": 29, "git_revision": "", "hash": "34265bac06ace8265132ad9edcfc9d4d", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/viewmodel/NotesViewModel.kt", "revision_history": [{"29": ""}]}